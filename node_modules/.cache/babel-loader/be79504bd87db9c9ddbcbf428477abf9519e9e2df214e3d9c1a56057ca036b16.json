{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaha\\\\Downloads\\\\react-bootstrap-ecomm\\\\src\\\\Components\\\\Pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useRef } from 'react';\nimport classes from './Login.module.css';\nimport { useHistory } from 'react-router-dom';\nimport { cartContext } from '../Store/CartProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  let enteredpass = useRef();\n  let enteredEmail = useRef();\n  let ctx = useContext(cartContext);\n  let history = useHistory();\n  const submitHandler = e => {\n    e.preventDefault();\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB6cX21zeYABpzin7kuVAkvK583neKmfsY', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail.current.value,\n        password: enteredpass.current.value,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.ok) {\n        let responce = res.json();\n        responce.then(data => {\n          console.log(ctx);\n          ctx.setIsLoggedIn(true);\n          console.log(\"idTOken:\", data.idToken);\n          ctx.setToken(data.idToken);\n          localStorage.setItem(\"idToken\", data.idToken);\n          history.push('/products');\n        });\n      } else {\n        console.log(res);\n        return res.json().then(data => {\n          let errorMessage = 'Authentication failed!';\n          alert(errorMessage);\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.auth,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Your Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          ref: enteredEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          required: true,\n          ref: enteredpass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitHandler,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Z/PkCfBrSFpHvBwD3LFKNJDkZTE=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useRef","classes","useHistory","cartContext","jsxDEV","_jsxDEV","Login","_s","enteredpass","enteredEmail","ctx","history","submitHandler","e","preventDefault","fetch","method","body","JSON","stringify","email","current","value","password","returnSecureToken","headers","then","res","ok","responce","json","data","console","log","setIsLoggedIn","idToken","setToken","localStorage","setItem","push","errorMessage","alert","className","auth","children","fileName","_jsxFileName","lineNumber","columnNumber","control","htmlFor","type","id","ref","required","actions","onClick","_c","$RefreshReg$"],"sources":["C:/Users/chaha/Downloads/react-bootstrap-ecomm/src/Components/Pages/Login.js"],"sourcesContent":["import React, { useContext, useRef } from 'react'\nimport classes from './Login.module.css'\nimport { useHistory } from 'react-router-dom'\nimport { cartContext } from '../Store/CartProvider';\n\nconst Login = () => {\n    let enteredpass = useRef();\n    let enteredEmail = useRef();\n    let ctx = useContext(cartContext);\n    let history = useHistory();\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        fetch(\n            'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB6cX21zeYABpzin7kuVAkvK583neKmfsY',\n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    email: enteredEmail.current.value,\n                    password: enteredpass.current.value,\n                    returnSecureToken: true,\n                }),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }\n        )\n            .then((res) => {\n                if (res.ok) {\n                    let responce = res.json();\n                    responce.then((data) => {\n                        console.log(ctx);\n                        ctx.setIsLoggedIn(true);\n                        console.log(\"idTOken:\", data.idToken);\n                        ctx.setToken(data.idToken);\n                        localStorage.setItem(\"idToken\", data.idToken);\n                        history.push('/products')\n                    })\n                } else {\n                    console.log(res)\n                    return res.json().then((data) => {\n                        let errorMessage = 'Authentication failed!';\n                        alert(errorMessage);\n                    });\n                }\n            });\n    }\n\n    return (\n        <section className={classes.auth}>\n            <h1>Login</h1>\n            <form >\n                <div className={classes.control}>\n                    <label htmlFor='email'>Your Email</label>\n                    <input type='email' id='email' ref={enteredEmail} />\n                </div>\n                <div className={classes.control}>\n                    <label htmlFor='password'>Your Password</label>\n                    <input\n                        type='password'\n                        id='password'\n                        required\n                        ref={enteredpass}\n                    />\n                </div>\n                <div className={classes.actions}>\n                    <button onClick={submitHandler}>Login</button>\n                </div>\n            </form>\n        </section>\n    )\n}\n\nexport default Login\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}