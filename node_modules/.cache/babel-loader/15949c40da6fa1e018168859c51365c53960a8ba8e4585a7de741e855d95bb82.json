{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaha\\\\Downloads\\\\react-bootstrap-ecomm\\\\src\\\\Components\\\\Layout\\\\MusicItem.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { cartContext } from '../Store/CartProvider';\n\n// function removeSpecialChar(str) {\n//     let newmail=\"\";\n//     for (let i = 0; i < str.length; i++) {\n//      if(str[i]!==\"@\" && str[i]!==\".\"){\n//          newmail=newmail+str[i];\n//      } \n//     } \n//     return newmail;\n//  }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MusicItem = props => {\n  _s();\n  const cartCtx = useContext(cartContext);\n  function checkItem(elememt) {\n    let flag = false;\n    for (let i = 0; i < cartCtx.cartItems.items.length; i++) {\n      if (cartCtx.cartItems.items[i].title === elememt.title) {\n        flag = true;\n        break;\n      }\n    }\n    return flag;\n  }\n  const handleAddItem = async e => {\n    e.preventDefault();\n    let newItemInCart = {\n      ...props.product\n    };\n    if (checkItem(newItemInCart) || cartCtx.email == null) {\n      alert(\"Item is already present in cart\");\n    } else {\n      let addedCartItems = [...cartCtx.cartItems.items, newItemInCart];\n      try {\n        let usermailid = cartCtx.email.replace(/[^a-zA-Z0-9 ]/g, '');\n        let responce = await fetch(`https://crudcrud.com/api/46ca903f309649f88fc028d67fb74e65/cart${usermailid}`, {\n          method: 'POST',\n          body: JSON.stringify(newItemInCart),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        console.log(responce.json());\n        alert(\"item added to cart\");\n      } catch (e) {\n        console.log(\"Something went wrong\");\n      }\n      cartCtx.setCartItems({\n        items: addedCartItems,\n        totalItems: cartCtx.cartItems.totalItems + 1,\n        totalAmount: cartCtx.cartItems.totalAmount + newItemInCart.price\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row d-flex justify-content-between\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card col-md-3 mx-3 border-0\",\n      style: {\n        width: \"18rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"3.5rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: props.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.imageUrl,\n        className: \"card-img-top\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-title\",\n          children: [\"$\", props.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-info text-light fw-bold float-end\",\n          onClick: handleAddItem,\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 13\n  }, this);\n};\n_s(MusicItem, \"5vyuBAd9ctzs1tCKQUMcCu/LGtk=\");\n_c = MusicItem;\nexport default MusicItem;\nvar _c;\n$RefreshReg$(_c, \"MusicItem\");","map":{"version":3,"names":["React","useContext","cartContext","jsxDEV","_jsxDEV","MusicItem","props","_s","cartCtx","checkItem","elememt","flag","i","cartItems","items","length","title","handleAddItem","e","preventDefault","newItemInCart","product","email","alert","addedCartItems","usermailid","replace","responce","fetch","method","body","JSON","stringify","headers","console","log","json","setCartItems","totalItems","totalAmount","price","className","children","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","src","imageUrl","alt","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/chaha/Downloads/react-bootstrap-ecomm/src/Components/Layout/MusicItem.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport { cartContext } from '../Store/CartProvider';\n\n// function removeSpecialChar(str) {\n//     let newmail=\"\";\n//     for (let i = 0; i < str.length; i++) {\n//      if(str[i]!==\"@\" && str[i]!==\".\"){\n//          newmail=newmail+str[i];\n//      } \n//     } \n//     return newmail;\n//  }\nconst MusicItem = (props) => {\n    const cartCtx = useContext(cartContext);\n    function checkItem(elememt) {\n        let flag = false;\n        for (let i = 0; i < cartCtx.cartItems.items.length; i++) {\n            if (cartCtx.cartItems.items[i].title === elememt.title) {\n                flag = true;\n                break;\n            }\n        }\n        return flag;\n    }\n    const handleAddItem =async (e) => {\n        e.preventDefault();\n        let newItemInCart = { ...props.product };\n        if (checkItem(newItemInCart) || cartCtx.email==null) {\n            alert(\"Item is already present in cart\");\n        } else {\n            let addedCartItems = [...cartCtx.cartItems.items, newItemInCart]\n            try{\n                let usermailid=cartCtx.email.replace(/[^a-zA-Z0-9 ]/g, '');\n                let responce = await fetch(`https://crudcrud.com/api/46ca903f309649f88fc028d67fb74e65/cart${usermailid}`,{\n                method: 'POST',\n                body: JSON.stringify(newItemInCart),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n              } );\n              console.log(responce.json());\n              alert(\"item added to cart\")\n            } catch (e) {\n              console.log(\"Something went wrong\");\n            }\n            cartCtx.setCartItems({ items: addedCartItems, totalItems: cartCtx.cartItems.totalItems + 1, totalAmount: cartCtx.cartItems.totalAmount + newItemInCart.price });\n        }\n    }\n        \n        return (\n            <div className='row d-flex justify-content-between'>\n                <div className=\"card col-md-3 mx-3 border-0\" style={{ width: \"18rem\" }}>\n                    <div style={{ height: \"3.5rem\" }}><h5>{props.title}</h5></div>\n                    <img src={props.imageUrl} className=\"card-img-top\" alt=\"...\" />\n                    <div className=\"card-body\">\n                        <span className=\"card-title\">${props.price}</span>\n                        <button type=\"button\" className=\"btn btn-info text-light fw-bold float-end\" onClick={handleAddItem}>Add to cart</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n\nexport default MusicItem\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}